import { Component, OnInit } from '@angular/core';
import { StateService } from '../../services/app-state.service';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-card-viewer',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './card-viewer.component.html',
  styleUrl: './card-viewer.component.scss'
})
export class CardViewerComponent implements OnInit {
  magicCard: any;

  constructor(private StateService: StateService) { }

  ngOnInit() {
    this.StateService.stateChange$.subscribe((state) => {
      this.magicCard = state.magicCard;
    });
  }
}

//{"object":"card","id":"86e3be43-2bbd-48a5-9a9e-05f15a929dc3","oracle_id":"7282f643-191b-41be-9f6f-82360c915d6d","multiverse_ids":[636364],"mtgo_id":119842,"tcgplayer_id":518678,"name":"Abyssal Persecutor","lang":"en","released_at":"2023-11-03","uri":"https://api.scryfall.com/cards/86e3be43-2bbd-48a5-9a9e-05f15a929dc3","scryfall_uri":"https://scryfall.com/card/ltc/525/abyssal-persecutor?utm_source=api","layout":"normal","highres_image":false,"image_status":"lowres","image_uris":{"small":"https://cards.scryfall.io/small/front/8/6/86e3be43-2bbd-48a5-9a9e-05f15a929dc3.jpg?1696020566","normal":"https://cards.scryfall.io/normal/front/8/6/86e3be43-2bbd-48a5-9a9e-05f15a929dc3.jpg?1696020566","large":"https://cards.scryfall.io/large/front/8/6/86e3be43-2bbd-48a5-9a9e-05f15a929dc3.jpg?1696020566","png":"https://cards.scryfall.io/png/front/8/6/86e3be43-2bbd-48a5-9a9e-05f15a929dc3.png?1696020566","art_crop":"https://cards.scryfall.io/art_crop/front/8/6/86e3be43-2bbd-48a5-9a9e-05f15a929dc3.jpg?1696020566","border_crop":"https://cards.scryfall.io/border_crop/front/8/6/86e3be43-2bbd-48a5-9a9e-05f15a929dc3.jpg?1696020566"},"mana_cost":"{2}{B}{B}","cmc":4,"type_line":"Creature — Demon","oracle_text":"Flying, trample\nYou can't win the game and your opponents can't lose the game.","power":"6","toughness":"6","colors":["B"],"color_identity":["B"],"keywords":["Flying","Trample"],"legalities":{"standard":"not_legal","future":"not_legal","historic":"not_legal","timeless":"not_legal","gladiator":"not_legal","pioneer":"not_legal","explorer":"not_legal","modern":"legal","legacy":"legal","pauper":"not_legal","vintage":"legal","penny":"legal","commander":"legal","oathbreaker":"legal","standardbrawl":"not_legal","brawl":"not_legal","alchemy":"not_legal","paupercommander":"not_legal","duel":"legal","oldschool":"not_legal","premodern":"not_legal","predh":"legal"},"games":["paper","mtgo"],"reserved":false,"foil":true,"nonfoil":true,"finishes":["nonfoil","foil"],"oversized":false,"promo":false,"reprint":true,"variation":false,"set_id":"e567c19c-0fe4-446e-a7bf-fce8a150cd2e","set":"ltc","set_name":"Tales of Middle-earth Commander","set_type":"commander","set_uri":"https://api.scryfall.com/sets/e567c19c-0fe4-446e-a7bf-fce8a150cd2e","set_search_uri":"https://api.scryfall.com/cards/search?order=set&q=e%3Altc&unique=prints","scryfall_set_uri":"https://scryfall.com/sets/ltc?utm_source=api","rulings_uri":"https://api.scryfall.com/cards/86e3be43-2bbd-48a5-9a9e-05f15a929dc3/rulings","prints_search_uri":"https://api.scryfall.com/cards/search?order=released&q=oracleid%3A7282f643-191b-41be-9f6f-82360c915d6d&unique=prints","collector_number":"525","digital":false,"rarity":"mythic","flavor_text":"\"Come not between the Nazgûl and his prey! Or he will not slay thee in thy turn. He will bear thee away to the houses of lamentation, where thy flesh shall be devoured, and thy shriveled mind be left naked to the Lidless Eye.\"","card_back_id":"0aeebaf5-8c7d-4636-9e82-8c27447861f7","artist":"Greg Hildebrandt & Tim Hildebrandt","artist_ids":["020f967b-0d2f-4166-aabe-901dba8bc7ec","caa7228c-f74c-4145-91fb-1af8d623c353"],"illustration_id":"718bf95d-658a-4597-acc8-847299aee294","border_color":"borderless","frame":"2015","frame_effects":["inverted"],"security_stamp":"triangle","full_art":false,"textless":false,"booster":false,"story_spotlight":false,"promo_types":["silverfoil","boosterfun"],"edhrec_rank":5068,"penny_rank":10204,"prices":{"usd":"7.96","usd_foil":"7.57","usd_etched":null,"eur":null,"eur_foil":null,"tix":"0.03"},"related_uris":{"gatherer":"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=636364&printed=false","tcgplayer_infinite_articles":"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Darticle%26game%3Dmagic%26partner%3Dscryfall%26q%3DAbyssal%2BPersecutor","tcgplayer_infinite_decks":"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&trafcat=infinite&u=https%3A%2F%2Finfinite.tcgplayer.com%2Fsearch%3FcontentMode%3Ddeck%26game%3Dmagic%26partner%3Dscryfall%26q%3DAbyssal%2BPersecutor","edhrec":"https://edhrec.com/route/?cc=Abyssal+Persecutor"},"purchase_uris":{"tcgplayer":"https://tcgplayer.pxf.io/c/4931599/1830156/21018?subId1=api&u=https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F518678%3Fpage%3D1","cardmarket":"https://www.cardmarket.com/en/Magic/Products/Search?referrer=scryfall&searchString=Abyssal+Persecutor&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall","cardhoarder":"https://www.cardhoarder.com/cards/119842?affiliate_id=scryfall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall"}}